<DockLayout class="page">
    <!-- TITLE BAR -->
    <GridLayout dock="top" class="title-bar">
        <Label text="My cart" class="center h4 bold"></Label>
    </GridLayout>
    <!-- BOTTOM BAR -->
    <GridLayout dock="bottom" columns="*,auto" class="title-bar">
        <Label col="0" [text]="total" class="left h4 bold s-margin"></Label>
        <GridLayout col="1" width="20%" height="100%" class="inverted-highlight" (tap)="checkOut()">
            <Label text="Checkout" class="h5 bold center"></Label>
        </GridLayout>
    </GridLayout>
    <!-- CART LIST -->
    <ListView [items]="cart">
        <template let-item="item" let-i="index" let-odd="odd" let-even="even">
            <StackLayout>
                <GridLayout columns="auto, auto, 2*, auto" rows="*, *, *, *" [class.odd]="odd" [class.even]="even" class="list-item" #itemRow>>
                    <Image col="0" row="0" rowSpan="4" [src]="item.picture" class="left"></Image>
                    <GridLayout col="1" rowSpan="4" class="v-spacer s-margin" backgroundColor="#616161"></GridLayout>
                    <Label col="2" row="0" [text]="'Name: ' + item.name" class="bold left"></Label>
                    <Label col="2" row="1" [text]="'Price: ' + item.price + '€/Kg'" class="left"></Label>
                    <StackLayout col="2" row="2" orientation="horizontal" >
                        <Label [text]="'Amount:'" class="left"></Label>
                        <Label text="&#xf068;" (tap)="decrease(item._id)" class="fa left s-margin highlight" fontSize="16" [isEnabled]="item.amount>1 ? true : false"></Label>
                        <Label [text]="item.amount" class="left"></Label>
                        <Label text="&#xf067;" (tap)="increase(item._id)" class="fa left s-margin highlight" fontSize="15"></Label>
                    </StackLayout>
                    <Label col="2" row="3" [text]="'Item total: ' + (item.price * item.amount).toFixed(2) + '€'" class="left bold"></Label>
                    <Label col="3" row="0" text="&#xf00d;" class="fa s-font-icon" (tap)="remove(itemRow, item._id)"></Label>
                </GridLayout>
            </StackLayout>
        </template>
    </ListView>
</DockLayout>
